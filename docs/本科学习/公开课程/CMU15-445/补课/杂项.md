
# 杂项

## 基本命令行指令

### 当前目录

```bash
.
```

### 上一级目录

```bash
..
```

### 删除文件

顺带一提的是类 unix 系统里，`rm` 默认只能删除文件；如果想删文件夹，就得用 `-r` 的短选项。

### 系统可用的 CPU 核心数量

全称 number of processing units.

直接输入

```bash
nproc
```

会返回结果。

此外，还可以搭配着 `$()` 来使用，代表先执行括号里面的命令，然后把结果挪到这个位置。例如

```bash
make -j"$(nproc)"
```

### 创建文件夹

```bash
mkdir dirname
```


## cmake

proj0 的构建文档中有这样一段

Then run the following commands to build the system:

```bash
$ mkdir build
$ cd build
$ cmake ..
$ make
```

这里 mkdir, cd，无非就是新建文件夹然后切到里面去。

后面两行呢？

cmake 是读取一个目录下的 `CMakeLists.txt`。对于项目的根文件夹，我们 cd 到它的一个子文件夹 `build` 里，这个时候再 `cmake ..`，无非就是 cmake 根文件夹。

cMake：生成构建规则（写出一个适合当前平台的 Makefile 或其他构建文件）。

make：根据这些规则实际执行编译。

## md5 checksum

这个似乎也是系统自带的命令

```bash
md5sum filename
```

大致上就是一个哈希码。用于简单检查两个文件是否完全相同。

hw1 里面要下载一个东西，它给出的提示是用 `wget`。
我试了一下，首先我的 mac 上没有 `wget`，于是用 `brew install` 了一下。
但是发现不知道为啥 `wget` 下载速度很慢（我应该开了全局代理的），最后还是用浏览器下载，手动拖到 `placeholder` 里。

## zip

系统似乎还自带了一个压缩的命令。在 hw1 的提交提示里，说要将 placeholder 目录下的 sql 打包

```bash
zip -j submission.zip placeholder/*.sql
```

实际上这里 placeholder 这个文件夹是可以自己起一个喜欢的名字。
hw1 希望你打包的 zip 里面没有套一个文件夹，也就是直接就只有这些 `.sql` 文件。
然后如果不加 `-j` 选项，上面这个命令的意思就是连同这个目录结构一起压缩进来。

## tar

hw1 有一个指令

```bash
tar zxf lahman-cmudb2025.db.gz
```

这里 `tar` 单独用的话是打包文件，不带压缩。

`zxf`：

`z` 表示通过 gzip 解压缩（对应这个文件后缀有一个 `.gz`）

`x` 表示 extract，解包（解压）

`f` 表示 file，指定要处理的文件，后面跟着文件名


## 管道符

hw1 需要自行下载 DuckDB 到命令行环境。提示是这样的

```bash
curl https://install.duckdb.org | sh
```

这里涉及到管道符 `|` 的使用。它会将上一个命令的输出，放进下一个命令的输入。

## curl

同上。curl 是 Client URL，在命令行内向 URL 发出请求，并获取、传输数据。

选项

`-0`：把远程文件保存成原文件名

`-0 <filename>`：保存成指定文件名

