# 从本地往远程传文件


## rsync

对于 win 来说，可以先打开 wsl，然后 cd 到想要单向同步的目录

使用

```bash
rsync -avz --progress \
  -e "ssh -p 37215" \
  ./ root@connect.bjb2.seetacloud.com:/root/projects/test/cats-or-dogs/
```

其中 `37215`、`connect.bjb2.seetacloud.com` 等是服务器商提供的。随后只需要输入一下 ssh 的密码就好了。

## 直接 ssh


```bash
tar czf - . \
| pv \
| ssh -p 37215 root@connect.bjb2.seetacloud.com \
  "mkdir -p /root/projects/test/cats-or-dogs && \
   cd /root/projects/test/cats-or-dogs && \
   tar xzf -"

```

### tar

其中

```bash
tar czf - .
```

的意思是

- `tar`：打包工具（Tape ARchive），常用于打包和解压文件。

- `c`：create，表示创建一个新的归档文件。

- `z`：通过 gzip 压缩。

- `f`：file，指定输出文件名。

- ⚠️ 注意：这里的 - 就是文件名参数的位置。`-`：代表标准输出（stdout），即不写入文件，而是把压缩结果直接输出到终端或管道。

- `.`：表示当前目录，把当前目录下的所有文件和子目录打包。

严格来说 `-czf` 是三个短选项拼起来，所以还是要写 `-`。然而由于历史兼容问题变成可加可不加。

对应地解压用 `-xzf`。

### pv

一般要自己装

```bash
sudo apt install -y pv
```

有助于我们看到进度条。