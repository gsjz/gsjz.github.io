# 文件读写

我现在有这么一个需求：从外部导入的题目为若干行，我想统一把它们加上前缀 `???- question "` 和 后缀 `"`。

显然写一个脚本来实现是很方便的。让我们来学一下怎么读写文件

```python
with open("ipt.md", "r", encoding = "utf-8") as f:
    with open("opt.md", "w", encoding= "utf-8") as g:
        for line in f:
            line = line.strip()
            print(line, file = g)
```

在这个的基础上再实现我们的需求

## strip

`.strip()` → 去掉 前缀和后缀 的空白字符（包括空格、\n、\t 等）

`.lstrip()` → 只去掉 左边 的空白

`.rstrip()` → 只去掉 右边 的空白

## open() 文件模式速查表

| 模式     | 是否要求文件存在  | 是否清空原内容 | 是否可读 | 是否可写 | 写入位置      |
| ------ | --------- | ------- | ---- | ---- | --------- |
| `"r"`  | 必须存在      | 否       | ✅    | ❌    | —         |
| `"w"`  | 否（不存在则创建） | **是**   | ❌    | ✅    | 开头        |
| `"a"`  | 否（不存在则创建） | 否       | ❌    | ✅    | **末尾**    |
| `"x"`  | **必须不存在** | —       | ❌    | ✅    | 开头        |
| `"r+"` | 必须存在      | 否       | ✅    | ✅    | 开头        |
| `"w+"` | 否（不存在则创建） | **是**   | ✅    | ✅    | 开头        |
| `"a+"` | 否（不存在则创建） | 否       | ✅    | ✅    | **末尾（写）** |

| 后缀         | 含义       | 适用对象                |
| ---------- | -------- | ------------------- |
| （无）或 `"t"` | 文本模式（默认） | `.txt`、`.md`、`.csv` |
| `"b"`      | 二进制模式    | 图片、音频、模型、压缩包        |

示例：

`"rb"`：读二进制

`"wb+"`：清空后读写二进制

`"ab"`：追加二进制